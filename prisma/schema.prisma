// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-kysely"
  output   = "../src/db/generated"
  fileName = "generated-types.ts"
}

datasource db {
  provider = "mysql"
  url      = env("DB_URL")
}

model Account {
  account_id             String   @id @default(uuid()) @db.Char(36)
  account_first_name     String   @db.VarChar(100)
  account_last_name      String   @db.VarChar(100)
  account_email          String   @unique @db.VarChar(100)
  account_password       String   @db.VarChar(100)
  account_role           String   @db.VarChar(60)
  account_status         String?  @db.VarChar(10)
  account_image          String?  @db.VarChar(60)
  account_contact_number String   @db.VarChar(60)
  created_at             DateTime @default(now())
  updated_at             DateTime @updatedAt

  permissions           AccountPermission[]
  AccountNotification   AccountNotification[]
  AccountProductPackage AccountProductPackage[]
  commissions_referrer  Commission[]            @relation("referrer")
  commissions_referee   Commission[]            @relation("referee")
  ReferralCode          ReferralCode[]
  Order                 Order[]
  RefreshToken          RefreshToken[]
  Sales                 Sales[]
  Sms                   Sms[]
  Wallet                Wallet?
  Withdrawal            Withdrawal[]
  AccountReason         AccountReason?
  AccountPaymentMethod  AccountPaymentMethod?
  created_tickets       Ticket[]                @relation("Creator")
  assigned_tickets      Ticket[]                @relation("CSR")
  teams                 Team[]
  //monthly_stats         MonthlyCommissionStats[]
  //commission_ledgers    CommissionLedger[]
  upline_paths          AccountTreePath[]       @relation("Upline")
  downline_paths        AccountTreePath[]       @relation("Downline")
  AccountPV             AccountPV[]
  AccountActivity       AccountActivity[]
  RanksSnapshot         RanksSnapshot[]
  RanksMonthlySnapshot  RanksMonthlySnapshot[]
  ProductStockHistory   ProductStockHistory[]

  @@map("account")
}

model RanksSnapshot {
  ranks_snapshot_id String   @id @default(uuid()) @db.Char(36)
  account_id        String   @db.Char(36)
  ranks_id          String?  @db.Char(36)
  ranks_name        String?  @db.VarChar(36)
  pv                Decimal? @db.Decimal(10, 2)
  gv                Decimal? @db.Decimal(10, 2)
  created_at        DateTime @default(now())
  updated_at        DateTime @updatedAt

  account Account @relation(fields: [account_id], references: [account_id])
  ranks   Ranks?  @relation(fields: [ranks_id], references: [ranks_id])

  @@index([account_id])
  @@map("ranks_snapshot")
}

model RanksMonthlySnapshot {
  ranks_monthly_snapshot_id String   @id @default(uuid()) @db.Char(36)
  account_id                String   @db.Char(36)
  ranks_id                  String?  @db.Char(36)
  ranks_name                String?  @db.VarChar(36)
  pv                        Decimal? @db.Decimal(10, 2)
  gv                        Decimal? @db.Decimal(10, 2)
  month                     String?  @db.VarChar(7)
  created_at                DateTime @default(now())
  updated_at                DateTime @updatedAt

  account Account @relation(fields: [account_id], references: [account_id])
  ranks   Ranks?  @relation(fields: [ranks_id], references: [ranks_id])

  @@index([account_id])
  @@map("ranks_monthly_snapshot")
}

model AccountActivity {
  account_activity_id String   @id @default(uuid()) @db.Char(36)
  account_id          String   @db.Char(36)
  activity_id         String?  @db.VarChar(100)
  activity_type       String?  @db.VarChar(50)
  activity_message    String?  @db.VarChar(255)
  activity_meta       Json?    @db.Json
  action              String   @db.VarChar(50)
  created_at          DateTime @default(now())
  updated_at          DateTime @updatedAt

  account Account @relation(fields: [account_id], references: [account_id])

  @@index([account_id])
  @@map("account_activity")
}

// model AccountSMSVerification {
//   account_sms_verification_id String  @id @default(uuid()) @db.Char(36)
//   account_id                  String  @db.Char(36)
//   verification_code           String  @db.VarChar(6)
//   is_verified                 Boolean @default(false)

//   created_at DateTime @default(now())
//   updated_at DateTime @updatedAt

//   @@index([account_sms_verification_id, account_id])
//   @@map("account_sms_verification")
// }

// model AccountEmailVerification {
//   account_email_verification_id String  @id @default(uuid()) @db.Char(36)
//   account_id                    String  @db.Char(36)
//   verification_code             String  @db.VarChar(6)
//   is_verified                   Boolean @default(false)

//   created_at DateTime @default(now())
//   updated_at DateTime @updatedAt

//   @@index([account_email_verification_id, account_id])
//   @@map("account_email_verification")
// }

model AccountPermission {
  account_permission_id String   @id @default(uuid()) @db.Char(36)
  account_id            String   @db.Char(36)
  permission_meta       Json?    @db.Json
  created_at            DateTime @default(now())
  updated_at            DateTime @updatedAt

  account Account @relation(fields: [account_id], references: [account_id])

  @@index([account_id])
  @@map("account_permission")
}

model AccountPaymentMethod {
  account_payment_method_id String  @id @default(uuid()) @db.Char(36)
  account_id                String  @unique @db.Char(36)
  payment_method            String  @db.VarChar(50)
  payment_method_name       String  @db.VarChar(50)
  payment_method_number     String  @db.VarChar(100)
  payment_method_qr_code    String? @db.VarChar(60)
  payment_method_status     String? @default("active") @db.VarChar(10)

  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  account Account @relation(fields: [account_id], references: [account_id])

  @@index([account_id])
  @@map("account_payment_method")
}

model AccountReason {
  account_reason_id String  @id @default(uuid()) @db.Char(36)
  account_id        String  @unique @db.Char(36)
  reason_type       String? @db.VarChar(36)
  reason_message    String? @db.Char(100)

  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  account Account @relation(fields: [account_id], references: [account_id])

  @@index([account_id])
  @@map("account_reason")
}

model Permission {
  permission_id     String   @id @default(uuid()) @db.Char(36)
  permission_type   String?  @db.Char(10)
  permission_status String?  @db.Char(10)
  permission_meta   Json?    @db.Json
  created_at        DateTime @default(now())
  updated_at        DateTime @updatedAt

  @@index([permission_type])
  @@map("permission")
}

model AccountReferral {
  account_referral_id String   @id @default(uuid()) @db.Char(36)
  account_id          String   @db.Char(36)
  referred_by_id      String?  @db.Char(36)
  referral_code_id    String?  @db.Char(36)
  created_at          DateTime @default(now())
  updated_at          DateTime @updatedAt

  referral_code ReferralCode? @relation(fields: [referral_code_id], references: [referral_code_id])

  @@index([account_id])
  @@index([referred_by_id])
  @@map("account_referral")
}

model CommissionLevel {
  commission_level_id   String   @id @default(uuid()) @db.Char(36)
  commission_level      Int?     @unique
  commission_percentage Decimal? @db.Decimal(10, 2)
  created_at            DateTime @default(now())
  updated_at            DateTime @updatedAt

  @@map("commission_level")
}

model AccountNotification {
  account_notification_id String   @id @default(uuid()) @db.Char(36)
  account_id              String   @db.Char(36)
  code                    String   @db.VarChar(50)
  content                 Json?    @db.Json
  is_read                 Boolean  @db.TinyInt()
  created_at              DateTime @default(now())
  updated_at              DateTime @updatedAt

  account Account @relation(fields: [account_id], references: [account_id])

  @@index([account_id])
  @@map("account_notification")
}

model AccountProductPackage {
  account_product_package_id String   @id @default(uuid()) @db.Char(36)
  account_id                 String   @db.Char(36)
  product_package_id         String?  @db.Char(36)
  product_package_price      Decimal? @db.Decimal(10, 2)
  created_at                 DateTime @default(now())
  updated_at                 DateTime @updatedAt

  account        Account         @relation(fields: [account_id], references: [account_id])
  ProductPackage ProductPackage? @relation(fields: [product_package_id], references: [product_package_id])

  @@index([account_id])
  @@map("account_product_package")
}

model Commission {
  commission_id          String    @id @default(uuid()) @db.Char(36)
  account_id             String    @db.Char(36)
  transaction_account_id String    @db.Char(36)
  commission_amount      Decimal?  @db.Decimal(10, 2)
  commission_status      String    @default("pending") @db.VarChar(10)
  commission_type        String?   @default("package") @db.VarChar(10)
  released_at            DateTime?
  created_at             DateTime  @default(now())
  updated_at             DateTime  @updatedAt

  account             Account @relation("referrer", fields: [account_id], references: [account_id])
  transaction_account Account @relation("referee", fields: [transaction_account_id], references: [account_id])
  //sale    Sales?

  @@index([account_id])
  @@index([account_id, created_at], name: "idx_commission_account_created")
  @@map("commission")
}

model ReferralCode {
  referral_code_id String   @id @default(uuid()) @db.Char(36)
  referral_code    String   @unique @db.VarChar(20)
  account_id       String   @db.Char(36)
  created_at       DateTime @default(now())
  updated_at       DateTime @updatedAt

  account         Account           @relation(fields: [account_id], references: [account_id])
  AccountReferral AccountReferral[]

  @@index([referral_code])
  @@map("referral_code")
}

model Order {
  order_id     String   @id @default(uuid()) @db.Char(36)
  order_number String?  @unique @db.VarChar(100)
  account_id   String   @db.Char(36)
  order_status String?  @default("pending") @db.VarChar(20)
  total_amount Decimal? @db.Decimal(10, 2)
  created_at   DateTime @default(now())
  updated_at   DateTime @updatedAt

  account      Account        @relation(fields: [account_id], references: [account_id])
  OrderItem    OrderItem[]
  OrderPayment OrderPayment[]
  OrderPickup  OrderPickup?

  @@index([account_id])
  @@map("order")
}

model OrderPayment {
  order_payment_id     String   @id @default(uuid()) @db.Char(36)
  order_id             String   @db.Char(36)
  payment_method_id    String?  @db.Char(36)
  order_payment_image  String?  @db.VarChar(60)
  order_payment_status String?  @default("pending") @db.VarChar(20)
  created_at           DateTime @default(now())
  updated_at           DateTime @updatedAt

  order          Order          @relation(fields: [order_id], references: [order_id])
  payment_method PaymentMethod? @relation(fields: [payment_method_id], references: [payment_method_id])

  @@index([order_id])
  @@map("order_payment")
}

model OrderPickup {
  order_pickup_id     String   @id @default(uuid()) @db.Char(36)
  order_id            String   @unique @db.Char(36)
  order_pickup_image  String?  @db.VarChar(60)
  order_pickup_status String?  @db.VarChar(20)
  created_at          DateTime @default(now())
  updated_at          DateTime @updatedAt

  order Order @relation(fields: [order_id], references: [order_id])

  @@index([order_id])
  @@map("order_pickup")
}

model PaymentMethod {
  payment_method_id      String   @id @default(uuid()) @db.Char(36)
  payment_method         String   @db.VarChar(50)
  payment_method_name    String   @db.VarChar(50)
  payment_method_number  String   @db.VarChar(100)
  payment_method_qr_code String?  @db.VarChar(60)
  payment_method_status  String?  @default("active") @db.VarChar(10)
  payment_method_type    String?  @db.VarChar(10)
  payment_method_ts_type String?  @default("manual") @db.VarChar(10)
  created_at             DateTime @default(now())
  updated_at             DateTime @updatedAt

  OrderPayment OrderPayment[]

  @@map("payment_method")
}

model OrderItem {
  order_item_id String   @id @unique @default(uuid()) @db.Char(36)
  order_id      String   @db.Char(36)
  product_id    String   @db.Char(36)
  quantity      Int?
  price         Decimal? @db.Decimal(10, 2)
  created_at    DateTime @default(now())
  updated_at    DateTime @updatedAt

  order   Order   @relation(fields: [order_id], references: [order_id])
  product Product @relation(fields: [product_id], references: [product_id])

  @@index([order_id])
  @@map("order_item")
}

model Product {
  product_id          String   @id @unique @default(uuid()) @db.Char(36)
  product_category_id String?  @db.Char(36)
  product_name        String   @db.VarChar(100)
  product_description String?  @db.Text
  product_price       Decimal  @db.Decimal(10, 2)
  product_stock       Int
  product_pv          Decimal? @db.Decimal(10, 2)
  product_status      String   @default("active") @db.VarChar(10)
  product_image       String?  @db.VarChar(255)
  created_at          DateTime @default(now())
  updated_at          DateTime @updatedAt

  ProductCategory       ProductCategory?        @relation(fields: [product_category_id], references: [product_category_id])
  OrderItem             OrderItem[]
  ProductPackageProduct ProductPackageProduct[]
  ProductStockHistory   ProductStockHistory[]
  productLowStocks      ProductLowStock[]
  productPositions      ProductPosition[]

  @@index([product_id])
  @@index([product_category_id])
  @@map("product")
}

model ProductPosition {
  product_position_id String @id @default(uuid()) @db.Char(36)
  product_id          String @db.Char(36)
  position_no         String @db.VarChar(50)

  product Product @relation(fields: [product_id], references: [product_id])

  @@index([product_position_id])
  @@map("product_position")
}

model ProductLowStock {
  product_low_stock_id String   @id @default(uuid()) @db.Char(36)
  product_id           String?  @db.Char(36)
  threshold_qty        Int
  created_at           DateTime @default(now())
  updated_at           DateTime @updatedAt

  product Product? @relation(fields: [product_id], references: [product_id])

  @@index([product_id])
  @@map("product_low_stock")
}

model ProductPackageProduct {
  product_package_product_id String @id @default(uuid()) @db.Char(36)
  product_id                 String @db.Char(36)
  product_package_id         String @db.Char(36)

  Product        Product        @relation(fields: [product_id], references: [product_id])
  ProductPackage ProductPackage @relation(fields: [product_package_id], references: [product_package_id])

  @@index([product_id])
  @@map("product_package__product")
}

model ProductCategory {
  product_category_id     String    @id @unique @default(uuid()) @db.Char(36)
  product_category        String?   @db.VarChar(50)
  product_category_status String?   @default("active") @db.VarChar(10)
  created_at              DateTime  @default(now())
  updated_at              DateTime  @updatedAt
  Product                 Product[]

  @@index([product_category_id])
  @@map("product_category")
}

model ProductStockHistory {
  product_stock_history_id String   @id @default(uuid()) @db.Char(36)
  product_id               String   @db.Char(36)
  account_id               String?  @db.Char(36)
  quantity_change          Int?
  current_stock            Int?
  type                     String   @db.VarChar(20) // e.g., "stock_in", "stock_out", "sale"
  created_at               DateTime @default(now())
  updated_at               DateTime @updatedAt

  product Product  @relation(fields: [product_id], references: [product_id])
  account Account? @relation(fields: [account_id], references: [account_id])

  @@index([product_id])
  @@index([account_id])
  @@map("product_stock_history")
}

model ProductPackage {
  product_package_id          String   @id @unique @default(uuid()) @db.Char(36)
  product_package_name        String   @db.VarChar(100)
  product_package_description String?  @db.Text
  product_package_price       Decimal  @db.Decimal(10, 2)
  product_package_status      String   @default("active") @db.VarChar(10)
  product_package_image       String?  @db.VarChar(60)
  product_package_pv          Decimal? @db.Decimal(10, 2)
  created_at                  DateTime @default(now())
  updated_at                  DateTime @updatedAt

  AccountProductPackage AccountProductPackage[]
  ProductPackageProduct ProductPackageProduct[]

  @@index([product_package_id])
  @@map("product_package")
}

model RefreshToken {
  refresh_token_id String   @id @default(uuid()) @db.Char(36)
  account_id       String   @db.Char(36)
  refresh_token    String   @db.Text
  expires_at       DateTime
  revoked          Boolean  @default(false)
  created_at       DateTime @default(now())
  updated_at       DateTime @updatedAt

  account Account @relation(fields: [account_id], references: [account_id])

  @@index([account_id])
  @@map("refresh_token")
}

model Sales {
  sales_id     String   @id @default(uuid()) @db.Char(36)
  account_id   String   @db.Char(36)
  sales_type   String?
  sales_amount Decimal? @db.Decimal(10, 2)
  created_at   DateTime @default(now())
  updated_at   DateTime @updatedAt

  account Account @relation(fields: [account_id], references: [account_id])

  @@map("sales")
}

model Wallet {
  wallet_id     String   @id @default(uuid()) @db.Char(36)
  account_id    String   @unique @db.Char(36)
  wallet_amount Decimal  @db.Decimal(10, 2)
  wallet_status String   @default("active") @db.VarChar(10)
  created_at    DateTime @default(now())
  updated_at    DateTime @updatedAt

  WalletTransaction WalletTransaction[]
  account           Account             @relation(fields: [account_id], references: [account_id])

  @@index([account_id])
  @@map("wallet")
}

model Withdrawal {
  withdrawal_id     String   @id @default(uuid()) @db.Char(36)
  account_id        String   @db.Char(36)
  withdrawal_amount Decimal  @db.Decimal(10, 2)
  withdrawal_status String   @default("pending") @db.VarChar(10)
  ref_no            String?  @db.VarChar(100)
  created_at        DateTime @default(now())
  updated_at        DateTime @updatedAt
  account           Account  @relation(fields: [account_id], references: [account_id])

  WalletTransaction WalletTransaction?

  @@index([account_id])
  @@map("withdrawal")
}

model WalletTransaction {
  wallet_transaction_id     String   @id @default(uuid()) @db.Char(36)
  wallet_id                 String   @db.Char(36)
  withdrawal_id             String?  @unique @db.Char(36)
  wallet_transaction_amount Decimal  @db.Decimal(10, 2)
  wallet_transaction_type   String   @db.VarChar(10)
  wallet_transaction_title  String?  @db.VarChar(255)
  wallet_transaction_status String   @default("pending") @db.VarChar(10)
  created_at                DateTime @default(now())
  updated_at                DateTime @updatedAt

  Wallet     Wallet      @relation(fields: [wallet_id], references: [wallet_id])
  withdrawal Withdrawal? @relation(fields: [withdrawal_id], references: [withdrawal_id])

  @@index([wallet_id])
  @@index([withdrawal_id])
  @@map("wallet_transaction")
}

model Sms {
  sms_id     String   @id @default(uuid()) @db.Char(36)
  account_id String   @db.Char(36)
  is_send    Boolean  @db.TinyInt()
  sms_code   String   @db.VarChar(6)
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  account Account @relation(fields: [account_id], references: [account_id])

  @@index([account_id])
  @@index([is_send])
  @@map("sms")
}

model EmailTemplate {
  email_template_id   String   @id @default(uuid()) @db.Char(36)
  email_template_name String?  @db.VarChar(255)
  email_template_type String?  @unique @db.VarChar(255)
  html_content        String?  @db.Text
  created_at          DateTime @default(now())
  updated_at          DateTime @updatedAt

  @@index([email_template_type])
  @@map("email_template")
}

model SmsTemplate {
  sms_template_id   String  @id @default(uuid()) @db.Char(36)
  sms_template_name String? @db.VarChar(60)
  sms_template_type String? @db.VarChar(36)
  sms_content       String  @db.VarChar(255)

  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  @@index([sms_template_type])
  @@map("sms_template")
}

model Chat {
  chat_id    String   @id @default(uuid()) @db.Char(36)
  is_group   Boolean  @default(false) @db.TinyInt()
  chat_type  String?  @db.VarChar(20)
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  Ticket Ticket?

  @@index([chat_id])
  @@map("chat")
}

model ChatParticipants {
  chat_participants_id String   @id @default(uuid()) @db.Char(36)
  chat_id              String?
  account_id           String?
  created_at           DateTime @default(now())
  updated_at           DateTime @updatedAt

  @@index([account_id])
  @@index([chat_id])
  @@map("chat_participants")
}

model ChatMessages {
  chat_messages_id String   @id @default(uuid()) @db.Char(36)
  chat_id          String?  @db.VarChar(36)
  sender_id        String?  @db.VarChar(36)
  content          String?  @db.VarChar(255)
  is_deleted       Boolean? @default(false) @db.TinyInt()
  is_read          Boolean? @default(false) @db.TinyInt()
  created_at       DateTime @default(now())
  updated_at       DateTime @updatedAt

  @@index([sender_id])
  @@index([chat_id])
  @@map("chat_messages")
}

model AppSettings {
  app_settings_id String   @id @default(uuid()) @db.Char(36)
  key             String?  @unique @db.VarChar(120)
  value           String?  @db.VarChar(120)
  created_at      DateTime @default(now())
  updated_at      DateTime @updatedAt

  @@index([key])
  @@map("app_settings")
}

model Ticket {
  ticket_id          String   @id @default(uuid()) @db.Char(36)
  csr_id             String?  @db.Char(36)
  account_id         String   @db.Char(36)
  chat_id            String   @unique @db.Char(36)
  ticket_number      String?  @db.Char(60)
  ticket_subject     String?  @db.Char(100)
  ticket_description String?  @db.Char(200)
  ticket_status      String?  @db.Char(36)
  created_at         DateTime @default(now())
  updated_at         DateTime @updatedAt

  creator Account  @relation("Creator", fields: [account_id], references: [account_id])
  csr     Account? @relation("CSR", fields: [csr_id], references: [account_id])
  chat    Chat     @relation(fields: [chat_id], references: [chat_id])

  @@index([account_id])
  @@index([chat_id])
  @@index([csr_id])
  @@map("ticket")
}

model Team {
  team_id        String   @id @default(uuid()) @db.Char(36)
  team_name      String?  @db.Char(50)
  team_leader_id String   @db.Char(36)
  team_status    String?  @db.Char(36)
  created_at     DateTime @default(now())
  updated_at     DateTime @updatedAt

  account Account? @relation(fields: [team_leader_id], references: [account_id])

  @@index([team_leader_id])
  @@map("team")
}

model AccountPV {
  account_pv_id String   @id @default(uuid()) @db.Char(36)
  account_id    String   @db.Char(36)
  pv            Decimal? @db.Decimal(10, 2)
  created_at    DateTime @default(now())
  updated_at    DateTime @updatedAt

  account Account? @relation(fields: [account_id], references: [account_id])

  @@index([account_id])
  @@index([account_id, created_at], name: "idx_account_pv_account_created")
  @@map("account_pv")
}

model Ranks {
  ranks_id             String                 @id @default(uuid()) @db.Char(36)
  name                 String                 @unique @db.Char(36)
  pv_req               Decimal?               @db.Decimal(10, 2)
  gv_req               Decimal?               @db.Decimal(10, 2)
  leg_cap              Decimal?               @db.Decimal(10, 2)
  meta                 Json?
  created_at           DateTime               @default(now())
  updated_at           DateTime               @updatedAt
  //monthly_stats    MonthlyCommissionStats[]
  RankSnapshot         RanksSnapshot[]
  RanksMonthlySnapshot RanksMonthlySnapshot[]

  @@map("ranks")
}

// model MonthlyCommissionStats {
//   monthly_commission_stats_id String   @id @default(uuid()) @db.Char(36)
//   account_id                  String   @db.Char(36)
//   month                       String   @db.VarChar(7) // Format: "YYYY-MM"
//   pv                          Decimal? @default(0) @db.Decimal(10, 2)
//   gv_raw                      Decimal? @default(0) @db.Decimal(10, 2)
//   gv_qualified                Decimal? @default(0) @db.Decimal(10, 2)
//   is_active                   Boolean  @default(false)
//   qualified_rank_id           String?  @db.Char(36)
//   active_legs                 Int?     @default(0)
//   leg_gv_map                  Json?    @db.Json
//   created_at                  DateTime @default(now())
//   updated_at                  DateTime @updatedAt

//   account Account       @relation(fields: [account_id], references: [account_id])
//   rank    RankSettings? @relation(fields: [qualified_rank_id], references: [rank_settings_id])

//   @@unique([account_id, month])
//   @@map("monthly_commission_stats")
// }

// model CommissionLedger {
//   commission_ledger_id String   @id @default(uuid()) @db.Char(36)
//   account_id           String   @db.Char(36)
//   source_id            String   @db.Char(36)
//   source_type          String?  @db.Char(36)
//   amount               Decimal  @db.Decimal(10, 2)
//   reason               String?  @db.VarChar(100)
//   created_at           DateTime @default(now())
//   updated_at           DateTime @updatedAt

//   account Account @relation(fields: [account_id], references: [account_id])

//   @@index([account_id, source_type])
//   @@map("commission_ledger")
// }

model AccountTreePath {
  ancestor_id   String @db.Char(36)
  descendant_id String @db.Char(36)
  depth         Int

  ancestor   Account @relation("Upline", fields: [ancestor_id], references: [account_id])
  descendant Account @relation("Downline", fields: [descendant_id], references: [account_id])

  @@id([ancestor_id, descendant_id])
  @@map("account_tree_path")
}

model File {
  file_id       String   @id @default(uuid()) @db.Char(36)
  file_name     String   @db.VarChar(255)
  file_path     String   @db.VarChar(255)
  file_type     String   @db.VarChar(255)
  file_status   String   @default("active") @db.VarChar(10)
  file_doc_type String?  @db.VarChar(255)
  created_at    DateTime @default(now())
  updated_at    DateTime @updatedAt

  @@map("file")
}
